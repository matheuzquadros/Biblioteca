@model Biblioteca.ViewModels.BookFormViewModel

@{
    ViewBag.Title = "Editar Livro";
}

<h2>Edit</h2>

@using (Html.BeginForm("Save", "Book"))
{   

    <div class="row ">
        <div class="form-container">
            <h4>Book</h4>
            <hr />
            @Html.ValidationSummary(true)
            @Html.AntiForgeryToken()
            @Html.HiddenFor(model => model.Book.Id)
            <div class="form-group">
                @Html.LabelFor(model => model.Book.Isbn, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.Isbn, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.Isbn)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.Titulo, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.Titulo, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.Titulo)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.UrlCapa, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.UrlCapa, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.UrlCapa)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.Prefacio, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.Prefacio, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.Prefacio)
            </div>

            <div class="form-group">
                @Html.DropDownListFor(m => m.Book.CategoriaId,
       new SelectList(Model.Categorias, "Id", "Nome"),
                        "Selecione a categoria", new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.Book.CategoriaId)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.NumeroPaginas, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.NumeroPaginas, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.NumeroPaginas)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.Autor, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.Autor, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.Autor)
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.Book.Lancamento, new { @class = "control-label" })
                @Html.TextBoxFor(model => model.Book.Lancamento, new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.Book.Lancamento)

            </div>

            <button type="submit" class="btn btn-primary">Salvar</button>

        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section scripts

{
    @Scripts.Render("~/bundles/jqueryval")
<script>
    $(function () {
        $.validator.methods.date = function (value, element) {
            Globalize.culture("pr-BR");
            return this.optional(element) || Globalize.parseDate(value) !== null;
        }
    })
    </script>

}
